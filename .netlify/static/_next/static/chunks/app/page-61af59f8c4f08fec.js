(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2101:function(e,t,s){Promise.resolve().then(s.bind(s,2834))},2834:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return C}});var a=s(7437),i=s(2265),l=s(521),n=s(8614),r=s(3145),o=s(2097),c=s(8685);function d(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"cost-saving",a=[],i=e;if("cost-saving"===s)for(let e of[...c.jd].sort((e,t)=>t.capacity-e.capacity)){if(i<=0)break;let t=Math.ceil(i/e.capacity);for(let s=0;s<t&&i>0;s++)a.push(e),i-=e.capacity}else for(let e of[...c.jd].filter(e=>e.capacity>=4).sort((e,t)=>e.capacity-t.capacity)){if(i<=0)break;let t=Math.floor(.9*e.capacity),s=Math.ceil(i/t);for(let l=0;l<s&&i>0;l++){let s=Math.min(t,i);s>0&&(a.push(e),i-=s)}}return a}function m(e,t,s,a){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"cost-saving",l=[],n=t;for(let t of a){let a,r,o;if(n<=0)break;"cost-saving"===i?(a=Math.min(t.capacity,n),r=1.2*s.maxDistance,o=35):(a=Math.min(Math.floor(.95*t.capacity),n),r=.8*s.maxDistance,o=45);let c=function(e,t,s){let a=[],i=Math.ceil(t/4);for(let l=0;l<i;l++){let n=Math.random()*s*.8,r=2*Math.PI*l/i,o=n*Math.cos(r)/111,c=n*Math.sin(r)/(111*Math.cos(e.lat*Math.PI/180)),d=l===i-1?t-a.reduce((e,t)=>e+t.passengers,0):Math.floor(t/i)+Math.floor(3*Math.random());a.push({lat:e.lat+o,lng:e.lng+c,passengers:Math.max(1,d)})}return a}(e,a,r),d=function(e,t){let s=[];if(e.length>0){s.push({lat:e[0].lat,lng:e[0].lng});for(let t=1;t<e.length;t++){let a=e[t-1],i=e[t];for(let e=1;e<=5;e++){let t=e/5;s.push({lat:a.lat+(i.lat-a.lat)*t,lng:a.lng+(i.lng-a.lng)*t})}}let a=e[e.length-1];for(let e=1;e<=10;e++){let i=e/10;s.push({lat:a.lat+(t.lat-a.lat)*i,lng:a.lng+(t.lng-a.lng)*i})}}return s}(c.map(e=>({lat:e.lat,lng:e.lng})),e),m=0;for(let e=0;e<d.length-1;e++)m+=function(e,t){let s=(t.lat-e.lat)*Math.PI/180,a=(t.lng-e.lng)*Math.PI/180,i=Math.sin(s/2)*Math.sin(s/2)+Math.cos(e.lat*Math.PI/180)*Math.cos(t.lat*Math.PI/180)*Math.sin(a/2)*Math.sin(a/2);return 2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i))*6371}(d[e],d[e+1]);let x=Math.round(m/o*60);l.push({id:"route-".concat(l.length,"-").concat(i),vehicle:t,pickupPoints:c,path:d,totalDistance:Math.round(10*m)/10,totalTime:Math.min(x,s.maxTime*("cost-saving"===i?1.2:.9))}),n-=a}return l}function x(e){let{routes:t,onTransform:s}=e,i=t.length,n=t.reduce((e,t)=>e+t.totalDistance,0),r=t.reduce((e,t)=>e+t.totalTime,0),o=t.reduce((e,t)=>e+t.pickupPoints.reduce((e,t)=>e+t.passengers,0),0),c=t.length>0?Math.round(o/t.reduce((e,t)=>e+t.vehicle.capacity,0)*100):0;return(0,a.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/90 backdrop-blur-sm rounded-xl shadow-xl border border-white/50 p-4 sm:p-6",children:[(0,a.jsx)("div",{className:"flex items-start justify-between mb-4 sm:mb-6",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-swvl-dark mb-2",children:"Current Process Preview"}),(0,a.jsx)("p",{className:"text-xs sm:text-sm text-swvl-gray-500",children:"This is how your routes are currently organized before optimization"})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4 mb-4 sm:mb-6",children:[(0,a.jsxs)("div",{className:"bg-swvl-light rounded-lg p-3 text-center",children:[(0,a.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-swvl-dark mb-1",children:i}),(0,a.jsx)("p",{className:"text-xs text-swvl-gray-500",children:"Vehicles"})]}),(0,a.jsxs)("div",{className:"bg-swvl-light rounded-lg p-3 text-center",children:[(0,a.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-swvl-dark mb-1",children:n.toFixed(1)}),(0,a.jsx)("p",{className:"text-xs text-swvl-gray-500",children:"Total km"})]}),(0,a.jsxs)("div",{className:"bg-swvl-light rounded-lg p-3 text-center",children:[(0,a.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-swvl-dark mb-1",children:Math.round(r/i)}),(0,a.jsx)("p",{className:"text-xs text-swvl-gray-500",children:"Avg. min"})]}),(0,a.jsxs)("div",{className:"bg-swvl-light rounded-lg p-3 text-center",children:[(0,a.jsxs)("p",{className:"text-xl sm:text-2xl font-bold text-swvl-dark mb-1",children:[c,"%"]}),(0,a.jsx)("p",{className:"text-xs text-swvl-gray-500",children:"Utilization"})]})]}),(0,a.jsx)("div",{className:"space-y-2 sm:space-y-3 mb-4 sm:mb-6",children:t.map((e,t)=>(0,a.jsxs)(l.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},className:"flex items-center justify-between p-2 sm:p-3 bg-swvl-light rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,a.jsx)("div",{className:"text-xl sm:text-2xl",children:e.vehicle.icon}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs sm:text-sm font-semibold text-swvl-dark",children:e.vehicle.name}),(0,a.jsxs)("p",{className:"text-xs text-swvl-gray-500",children:[e.pickupPoints.reduce((e,t)=>e+t.passengers,0)," passengers • ",e.pickupPoints.length," stops"]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-xs sm:text-sm font-medium text-swvl-gray-600",children:[e.totalDistance," km"]}),(0,a.jsxs)("p",{className:"text-xs text-swvl-gray-500",children:["~",e.totalTime," min"]})]})]},e.id))}),(0,a.jsxs)(l.E.button,{onClick:s,className:"w-full bg-gradient-to-r from-swvl-primary to-swvl-accent text-white font-bold py-3 sm:py-4 px-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center gap-2 text-sm sm:text-base",whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,a.jsx)("span",{children:"Transform My Routes"}),(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]})}function h(e){let{costSavingRoutes:t,experienceRoutes:s,currentRoutes:i,onSelectScenario:n,selectedScenario:r}=e,o=e=>{let t=e.reduce((e,t)=>e+t.totalDistance,0),s=e.reduce((e,t)=>e+t.totalTime,0),a=e.length,i=e.reduce((e,t)=>e+t.pickupPoints.reduce((e,t)=>e+t.passengers,0),0);return{totalDistance:t,totalTime:s,totalVehicles:a,avgUtilization:e.length>0?Math.round(i/e.reduce((e,t)=>e+t.vehicle.capacity,0)*100):0,totalPassengers:i}},c=o(i),d=o(t),m=o(s),x={vehicles:c.totalVehicles-d.totalVehicles,distance:c.totalDistance-d.totalDistance,time:c.totalTime-d.totalTime,utilization:d.avgUtilization-c.avgUtilization},h={vehicles:c.totalVehicles-m.totalVehicles,distance:c.totalDistance-m.totalDistance,time:c.totalTime-m.totalTime,utilization:m.avgUtilization-c.avgUtilization};return(0,a.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,a.jsx)(l.E.h3,{initial:{opacity:0},animate:{opacity:1},className:"text-lg sm:text-xl font-bold text-swvl-dark",children:"Choose Your Optimization Strategy"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[(0,a.jsxs)(l.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"relative p-4 sm:p-6 rounded-xl border-2 transition-all cursor-pointer ".concat("cost-saving"===r?"border-swvl-primary bg-gradient-to-br from-swvl-primary/10 to-transparent shadow-lg":"border-swvl-gray-200 bg-white hover:border-swvl-gray-300"),onClick:()=>n("cost-saving"),children:["cost-saving"===r&&(0,a.jsx)("div",{className:"absolute top-3 right-3 w-6 h-6 bg-swvl-primary rounded-full flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),(0,a.jsxs)("div",{className:"flex items-start gap-3 mb-4",children:[(0,a.jsx)("div",{className:"text-3xl",children:"\uD83D\uDCB0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-base sm:text-lg font-bold text-swvl-dark mb-1",children:"Cost-Saving Scenario"}),(0,a.jsx)("p",{className:"text-xs sm:text-sm text-swvl-gray-500",children:"Minimize operational costs with larger vehicles"})]})]}),(0,a.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-swvl-gray-600",children:"Vehicles:"}),(0,a.jsx)("span",{className:"font-semibold text-swvl-dark",children:d.totalVehicles}),0!==x.vehicles&&(0,a.jsxs)("span",{className:"text-xs ".concat(x.vehicles>0?"text-green-600":"text-red-600"),children:["(",x.vehicles>0?"-":"+",Math.abs(x.vehicles),")"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-swvl-gray-600",children:"Utilization:"}),(0,a.jsxs)("span",{className:"font-semibold text-swvl-dark",children:[d.avgUtilization,"%"]}),0!==x.utilization&&(0,a.jsxs)("span",{className:"text-xs ".concat(x.utilization>0?"text-green-600":"text-red-600"),children:["(",x.utilization>0?"+":"",x.utilization,"%)"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-swvl-gray-600",children:"Total Distance:"}),(0,a.jsxs)("span",{className:"font-semibold text-swvl-dark",children:[d.totalDistance.toFixed(1)," km"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-swvl-gray-600",children:"Avg. Time:"}),(0,a.jsxs)("span",{className:"font-semibold text-swvl-dark",children:[Math.round(d.totalTime/d.totalVehicles)," min"]})]})]}),(0,a.jsx)("div",{className:"pt-3 border-t border-swvl-gray-200",children:(0,a.jsxs)("p",{className:"text-xs text-swvl-gray-500",children:["✓ Prefers larger vehicles (50-seater bus)",(0,a.jsx)("br",{}),"✓ Higher vehicle utilization (~70%)",(0,a.jsx)("br",{}),"✓ Accepts longer travel distances"]})})]}),(0,a.jsxs)(l.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"relative p-4 sm:p-6 rounded-xl border-2 transition-all cursor-pointer ".concat("experience-optimizing"===r?"border-swvl-primary bg-gradient-to-br from-swvl-primary/10 to-transparent shadow-lg":"border-swvl-gray-200 bg-white hover:border-swvl-gray-300"),onClick:()=>n("experience-optimizing"),children:["experience-optimizing"===r&&(0,a.jsx)("div",{className:"absolute top-3 right-3 w-6 h-6 bg-swvl-primary rounded-full flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),(0,a.jsxs)("div",{className:"flex items-start gap-3 mb-4",children:[(0,a.jsx)("div",{className:"text-3xl",children:"⭐"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-base sm:text-lg font-bold text-swvl-dark mb-1",children:"Experience-Optimizing Scenario"}),(0,a.jsx)("p",{className:"text-xs sm:text-sm text-swvl-gray-500",children:"Enhance user experience with optimized routes"})]})]}),(0,a.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-swvl-gray-600",children:"Vehicles:"}),(0,a.jsx)("span",{className:"font-semibold text-swvl-dark",children:m.totalVehicles}),0!==h.vehicles&&(0,a.jsxs)("span",{className:"text-xs ".concat(h.vehicles>0?"text-green-600":"text-red-600"),children:["(",h.vehicles>0?"-":"+",Math.abs(h.vehicles),")"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-swvl-gray-600",children:"Utilization:"}),(0,a.jsxs)("span",{className:"font-semibold text-swvl-dark",children:[m.avgUtilization,"%"]}),0!==h.utilization&&(0,a.jsxs)("span",{className:"text-xs ".concat(h.utilization>0?"text-green-600":"text-red-600"),children:["(",h.utilization>0?"+":"",h.utilization,"%)"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-swvl-gray-600",children:"Total Distance:"}),(0,a.jsxs)("span",{className:"font-semibold text-swvl-dark",children:[m.totalDistance.toFixed(1)," km"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-swvl-gray-600",children:"Avg. Time:"}),(0,a.jsxs)("span",{className:"font-semibold text-swvl-dark",children:[Math.round(m.totalTime/m.totalVehicles)," min"]})]})]}),(0,a.jsx)("div",{className:"pt-3 border-t border-swvl-gray-200",children:(0,a.jsxs)("p",{className:"text-xs text-swvl-gray-500",children:["✓ Prefers smaller vehicles (14-seater van)",(0,a.jsx)("br",{}),"✓ Higher seat utilization (up to 95%)",(0,a.jsx)("br",{}),"✓ Shorter travel times and distances"]})})]})]})]})}var p=s(1888);function u(e){let{onLocationSelect:t,onMapReady:s}=e,n=(0,i.useRef)(null),{map:r,isLoaded:d,error:m}=function(e){let[t,s]=(0,i.useState)(null),[a,l]=(0,i.useState)(!1),[n,r]=(0,i.useState)(null),o=(0,i.useRef)(null);return(0,i.useEffect)(()=>{let t="AIzaSyC-MjwszwkhNnrt9Fhj6m84pgJAxewaCjw";if(!t){r("Google Maps API key is not configured");return}e.current&&(async()=>{try{o.current||(o.current=new p.aN({apiKey:t,version:"weekly",libraries:["places","geometry"]}));let{Map:a}=await o.current.importLibrary("maps"),i=new a(e.current,{center:{lat:c.dk.lat,lng:c.dk.lng},zoom:c.dk.zoom,mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]});s(i),l(!0)}catch(e){console.error("Error loading Google Maps:",e),r("Failed to load Google Maps")}})()},[e]),{map:t,isLoaded:a,error:n}}(n),x=(0,o.q)(e=>e.officeLocation),h=(0,i.useRef)(null),[u,g]=(0,i.useState)(!1);return((0,i.useEffect)(()=>{r&&d&&s&&s(r,d)},[r,d,s]),(0,i.useEffect)(()=>{r&&d&&(x?(h.current?h.current.setPosition({lat:x.lat,lng:x.lng}):h.current=new google.maps.Marker({position:{lat:x.lat,lng:x.lng},map:r,title:"Office Location",icon:{path:google.maps.SymbolPath.CIRCLE,scale:10,fillColor:"#FC153B",fillOpacity:1,strokeColor:"#FFFFFF",strokeWeight:2}}),r.setCenter({lat:x.lat,lng:x.lng}),r.setZoom(14)):(r.setCenter({lat:c.dk.lat,lng:c.dk.lng}),r.setZoom(c.dk.zoom),h.current&&(h.current.setMap(null),h.current=null)))},[r,d,x]),(0,i.useEffect)(()=>{if(!r||!d||x)return;let e=r.addListener("click",async e=>{if(!e.latLng)return;let s=e.latLng.lat(),a=e.latLng.lng();new google.maps.Geocoder().geocode({location:{lat:s,lng:a}},(e,i)=>{if("OK"===i&&e&&e[0]){let i=e[0].formatted_address||"".concat(s.toFixed(6),", ").concat(a.toFixed(6));t&&t({lat:s,lng:a,address:i})}else console.error("Geocoding error:",i),t&&t({lat:s,lng:a,address:"".concat(s.toFixed(6),", ").concat(a.toFixed(6))})})});return()=>{google.maps.event.removeListener(e)}},[r,d,x,t]),m)?(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-swvl-light",children:(0,a.jsxs)("div",{className:"text-center p-8",children:[(0,a.jsx)("p",{className:"text-swvl-dark text-lg mb-2",children:"Map Error"}),(0,a.jsx)("p",{className:"text-swvl-gray-500 text-sm",children:m}),(0,a.jsx)("p",{className:"text-swvl-gray-400 text-xs mt-4",children:"Please configure NEXT_PUBLIC_GOOGLE_MAPS_API_KEY in your .env.local file"})]})}):(0,a.jsxs)("div",{className:"relative w-full h-full",children:[(0,a.jsx)("div",{ref:n,className:"w-full h-full rounded-xl overflow-hidden"}),!d&&(0,a.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute inset-0 flex items-center justify-center bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(l.E.div,{className:"animate-spin rounded-full h-10 w-10 sm:h-12 sm:w-12 border-3 border-swvl-primary border-t-transparent mx-auto mb-3 sm:mb-4",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),(0,a.jsx)("p",{className:"text-swvl-dark text-sm sm:text-base",children:"Loading map..."})]})})]})}function g(e){let{map:t,isLoaded:s,routes:a}=e,l=(0,o.q)(e=>e.routes),n=a||l,r=(0,o.q)(e=>e.officeLocation),[d,m]=(0,i.useState)({}),x=(0,i.useRef)([]),h=(0,i.useRef)([]),p=(0,i.useRef)({}),u=(0,i.useRef)();return(0,i.useEffect)(()=>{if(!t||!s||0===n.length){x.current.forEach(e=>e.setMap(null)),h.current.forEach(e=>e.setMap(null)),Object.values(p.current).forEach(e=>e.setMap(null)),x.current=[],h.current=[],p.current={},m({}),u.current&&cancelAnimationFrame(u.current);return}x.current.forEach(e=>e.setMap(null)),h.current.forEach(e=>e.setMap(null)),Object.values(p.current).forEach(e=>e.setMap(null)),x.current=[],h.current=[],p.current={};let e=["#FC153B","#004E89","#FF6B35","#00C896","#9B59B6"];if(n.forEach((s,a)=>{let i=e[a%e.length],l=new google.maps.Polyline({path:s.path.map(e=>({lat:e.lat,lng:e.lng})),geodesic:!0,strokeColor:i,strokeOpacity:.6,strokeWeight:3,map:t});x.current.push(l),s.pickupPoints.forEach((e,s)=>{let a=new google.maps.Marker({position:{lat:e.lat,lng:e.lng},map:t,icon:{path:google.maps.SymbolPath.CIRCLE,scale:10,fillColor:i,fillOpacity:1,strokeColor:"#FFFFFF",strokeWeight:3},title:"Pickup ".concat(s+1,": ").concat(e.passengers," passengers")});h.current.push(a)}),m(e=>({...e,[s.id]:0}))}),n.length>0&&r){let e=new google.maps.LatLngBounds;n.forEach(t=>{t.path.forEach(t=>{e.extend({lat:t.lat,lng:t.lng})}),e.extend({lat:r.lat,lng:r.lng})}),t.fitBounds(e,{padding:80})}},[t,s,n,r]),(0,i.useEffect)(()=>{if(!t||!s||0===n.length)return;let e=["#FC153B","#004E89","#FF6B35","#00C896","#9B59B6"],a=Date.now(),i=()=>{let s=Math.min((Date.now()-a)/1e3%30/30,1);n.forEach((a,i)=>{let l=e[i%e.length],n=Math.floor(s*(a.path.length-1)),r=a.path[n],o=0;if(n<a.path.length-1){let e=a.path[n+1],t=e.lat-r.lat;o=180*Math.atan2(e.lng-r.lng,t)/Math.PI}let d=e=>{let t=c.jd.find(t=>t.type===e);return(null==t?void 0:t.icon)||"\uD83D\uDE97"};if(p.current[a.id]){p.current[a.id].setPosition(r);let e=document.createElement("canvas");e.width=40,e.height=40;let t=e.getContext("2d");t&&(t.save(),t.translate(20,20),t.rotate(o*Math.PI/180),t.translate(-20,-20),t.fillStyle=l,t.beginPath(),t.arc(20,20,18,0,2*Math.PI),t.fill(),t.strokeStyle="#FFFFFF",t.lineWidth=3,t.stroke(),t.font="24px Arial",t.textAlign="center",t.textBaseline="middle",t.fillText(d(a.vehicle.type),20,20),t.restore());let s={url:e.toDataURL(),scaledSize:{width:40,height:40},anchor:{x:20,y:20}};p.current[a.id].setIcon(s)}else{let e=document.createElement("canvas");e.width=40,e.height=40;let s=e.getContext("2d");s&&(s.fillStyle=l,s.beginPath(),s.arc(20,20,18,0,2*Math.PI),s.fill(),s.strokeStyle="#FFFFFF",s.lineWidth=3,s.stroke(),s.font="24px Arial",s.textAlign="center",s.textBaseline="middle",s.fillText(d(a.vehicle.type),20,20));let i={url:e.toDataURL(),scaledSize:{width:40,height:40},anchor:{x:20,y:20}};p.current[a.id]=new google.maps.Marker({position:r,map:t,icon:i,title:"".concat(a.vehicle.name)})}m(e=>({...e,[a.id]:s}))}),u.current=requestAnimationFrame(i)};return i(),()=>{u.current&&cancelAnimationFrame(u.current)}},[t,s,n]),null}function v(){let e=(0,i.useRef)(null),t=(0,i.useRef)(null),s=(0,o.q)(e=>e.officeLocation),n=(0,o.q)(e=>e.setOfficeLocation),[r,c]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{(async()=>{let s="AIzaSyC-MjwszwkhNnrt9Fhj6m84pgJAxewaCjw";if(s&&e.current)try{let a=new p.aN({apiKey:s,version:"weekly",libraries:["places"]});if(await a.importLibrary("places"),e.current&&!t.current){t.current=new google.maps.places.Autocomplete(e.current,{componentRestrictions:{country:"ae"},fields:["place_id","geometry","formatted_address","name"],types:["establishment","geocode"]});let s=new google.maps.LatLngBounds({lat:24,lng:50},{lat:26,lng:56});t.current.setBounds(s),t.current.addListener("place_changed",()=>{var e,s;let a=null===(e=t.current)||void 0===e?void 0:e.getPlace();if(a&&(null===(s=a.geometry)||void 0===s?void 0:s.location)){let e=a.geometry.location;n({lat:e.lat(),lng:e.lng(),address:a.formatted_address||a.name||""})}}),c(!0)}}catch(e){console.error("Error loading Places API:",e)}})()},[]),(0,i.useEffect)(()=>{s&&e.current&&t.current&&(e.current.value=s.address)},[s]),(0,a.jsxs)("div",{className:"relative w-full",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{ref:e,type:"text",placeholder:"Search for your office location in UAE...",className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 pr-9 sm:pr-10 bg-white border border-swvl-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-swvl-primary focus:border-transparent transition-all text-swvl-dark placeholder-swvl-gray-400 text-sm sm:text-base"}),(0,a.jsx)("div",{className:"absolute right-2 sm:right-3 top-1/2 -translate-y-1/2 pointer-events-none",children:(0,a.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-swvl-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),!r&&(0,a.jsx)(l.E.p,{className:"mt-2 text-xs text-swvl-gray-400",initial:{opacity:0},animate:{opacity:1},children:"Loading search..."})]})}function y(){let e=(0,o.q)(e=>e.passengerCount),t=(0,o.q)(e=>e.setPassengerCount),[s,n]=(0,i.useState)(!1),r=(0,i.useRef)(null),c=e=>{s&&h(e)},d=e=>{if(!s||!r.current)return;let a=e.touches[0],i=r.current.getBoundingClientRect();t(Math.round(1+199*Math.max(0,Math.min(1,(a.clientX-i.left)/i.width))))},m=()=>{n(!1)},x=()=>{n(!1)},h=e=>{if(!r.current)return;let s=r.current.getBoundingClientRect();t(Math.round(1+199*Math.max(0,Math.min(1,(e.clientX-s.left)/s.width))))};(0,i.useEffect)(()=>{if(s)return document.addEventListener("mousemove",c),document.addEventListener("mouseup",m),document.addEventListener("touchmove",d,{passive:!1}),document.addEventListener("touchend",x),()=>{document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",m),document.removeEventListener("touchmove",d),document.removeEventListener("touchend",x)}},[s]);let p=(e-1)/199*100;return(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[(0,a.jsx)("label",{className:"text-xs sm:text-sm font-medium text-swvl-dark",children:"Number of Employees"}),(0,a.jsx)(l.E.span,{initial:{scale:1.2},animate:{scale:1},className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-swvl-primary to-swvl-accent bg-clip-text text-transparent",children:e},e)]}),(0,a.jsxs)("div",{ref:r,className:"relative h-2 sm:h-3 bg-swvl-gray-200 rounded-full cursor-pointer touch-none",onMouseDown:e=>{n(!0),h(e)},onTouchStart:e=>{n(!0);let s=e.touches[0];if(r.current){let e=r.current.getBoundingClientRect();t(Math.round(1+199*Math.max(0,Math.min(1,(s.clientX-e.left)/e.width))))}},children:[(0,a.jsx)(l.E.div,{className:"absolute h-full bg-gradient-to-r from-swvl-primary via-swvl-accent to-swvl-primary rounded-full shadow-sm",style:{width:"".concat(p,"%")},transition:{type:"spring",stiffness:300,damping:30}}),(0,a.jsx)(l.E.div,{className:"absolute top-1/2 -translate-y-1/2 w-5 h-5 sm:w-6 sm:h-6 bg-white border-2 border-swvl-primary rounded-full shadow-lg cursor-grab active:cursor-grabbing",style:{left:"calc(".concat(p,"% - 10px)")},whileHover:{scale:1.2},whileTap:{scale:.9},transition:{type:"spring",stiffness:300,damping:30}})]}),(0,a.jsxs)("div",{className:"flex justify-between mt-2 text-xs text-swvl-gray-500",children:[(0,a.jsx)("span",{children:1}),(0,a.jsx)("span",{children:200})]})]})}function f(){let e=(0,o.q)(e=>e.constraints),t=(0,o.q)(e=>e.setConstraints);return(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[(0,a.jsxs)(l.E.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.3},children:[(0,a.jsx)("label",{className:"block text-xs sm:text-sm font-medium text-swvl-dark mb-2",children:"Max Travel Time"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"number",min:"5",max:"120",value:e.maxTime,onChange:s=>t({...e,maxTime:parseInt(s.target.value)||30}),className:"w-full px-3 sm:px-4 py-2 sm:py-3 bg-white border border-swvl-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-swvl-primary focus:border-transparent transition-all text-swvl-dark text-sm sm:text-base"}),(0,a.jsx)("span",{className:"absolute right-3 sm:right-4 top-1/2 -translate-y-1/2 text-swvl-gray-500 text-xs sm:text-sm",children:"min"})]})]}),(0,a.jsxs)(l.E.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},transition:{duration:.3},children:[(0,a.jsx)("label",{className:"block text-xs sm:text-sm font-medium text-swvl-dark mb-2",children:"Max Distance"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"number",min:"1",max:"100",value:e.maxDistance,onChange:s=>t({...e,maxDistance:parseInt(s.target.value)||20}),className:"w-full px-3 sm:px-4 py-2 sm:py-3 bg-white border border-swvl-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-swvl-primary focus:border-transparent transition-all text-swvl-dark text-sm sm:text-base"}),(0,a.jsx)("span",{className:"absolute right-3 sm:right-4 top-1/2 -translate-y-1/2 text-swvl-gray-500 text-xs sm:text-sm",children:"km"})]})]})]})}var w=s(166);function b(e){let{children:t,onClick:s,variant:i="primary",disabled:n=!1,className:r=""}=e;return(0,a.jsx)(l.E.button,{onClick:s,disabled:n,className:"".concat("px-6 py-3 rounded-lg font-medium transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed"," ").concat({primary:"bg-gradient-to-r from-swvl-primary to-swvl-accent text-white hover:from-swvl-accent hover:to-swvl-primary shadow-lg hover:shadow-xl",secondary:"bg-swvl-secondary text-white hover:bg-opacity-90 shadow-lg hover:shadow-xl",outline:"bg-transparent border-2 border-swvl-primary text-swvl-primary hover:bg-gradient-to-r hover:from-swvl-primary hover:to-swvl-accent hover:text-white hover:border-transparent"}[i]," ").concat(r),whileHover:{scale:n?1:1.02},whileTap:{scale:n?1:.98},transition:{type:"spring",stiffness:400,damping:17},children:t})}var j=s(1616);function N(){let e=(0,o.q)(e=>e.routes),[t,s]=(0,i.useState)(0),[n,r]=(0,i.useState)(!0);(0,i.useEffect)(()=>{if(!n||0===e.length)return;let t=setInterval(()=>{s(e=>(e+1)%100)},100);return()=>clearInterval(t)},[n,e.length]);let c=e.reduce((e,t)=>e+t.pickupPoints.reduce((e,t)=>e+t.passengers,0),0),d=e.length,m=e.reduce((e,t)=>e+t.totalDistance,0),x=Math.round(e.reduce((e,t)=>e+t.totalTime,0)/e.length),h=Math.floor(.95*d);return(0,a.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/95 backdrop-blur-sm rounded-xl shadow-xl border border-white/50 p-4 sm:p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[(0,a.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-swvl-dark",children:"Live Monitoring Dashboard"}),(0,a.jsx)("button",{onClick:()=>r(!n),className:"p-2 rounded-lg bg-swvl-light hover:bg-swvl-gray-200 transition-colors",children:n?(0,a.jsx)("svg",{className:"w-5 h-5 text-swvl-primary",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}):(0,a.jsx)("svg",{className:"w-5 h-5 text-swvl-primary",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4 mb-4 sm:mb-6",children:[(0,a.jsxs)(l.E.div,{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-3 sm:p-4",whileHover:{scale:1.05},children:[(0,a.jsx)("p",{className:"text-xs sm:text-sm text-swvl-gray-600 mb-1",children:"Total Employees"}),(0,a.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-swvl-dark",children:c})]}),(0,a.jsxs)(l.E.div,{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-3 sm:p-4",whileHover:{scale:1.05},children:[(0,a.jsx)("p",{className:"text-xs sm:text-sm text-swvl-gray-600 mb-1",children:"Vehicles Active"}),(0,a.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-swvl-dark",children:d})]}),(0,a.jsxs)(l.E.div,{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-3 sm:p-4",whileHover:{scale:1.05},children:[(0,a.jsx)("p",{className:"text-xs sm:text-sm text-swvl-gray-600 mb-1",children:"Pickups Completed"}),(0,a.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-swvl-dark",children:Math.floor(t/100*c)})]}),(0,a.jsxs)(l.E.div,{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg p-3 sm:p-4",whileHover:{scale:1.05},children:[(0,a.jsx)("p",{className:"text-xs sm:text-sm text-swvl-gray-600 mb-1",children:"On-Time Rate"}),(0,a.jsxs)("p",{className:"text-xl sm:text-2xl font-bold text-swvl-dark",children:[h,"/",d]})]})]}),(0,a.jsxs)("div",{className:"space-y-2 sm:space-y-3",children:[(0,a.jsx)("h4",{className:"text-sm sm:text-base font-semibold text-swvl-dark",children:"Route Status"}),e.map((e,s)=>{let i=Math.min(t/100*100,100),n=i<100;return(0,a.jsxs)(l.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*s},className:"flex items-center gap-3 sm:gap-4 p-2 sm:p-3 bg-swvl-light rounded-lg",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-gradient-to-br from-swvl-primary to-swvl-accent flex items-center justify-center text-white font-bold text-sm sm:text-base",children:e.vehicle.icon})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,a.jsx)("p",{className:"text-xs sm:text-sm font-semibold text-swvl-dark truncate",children:e.vehicle.name}),(0,a.jsx)("span",{className:"text-xs px-2 py-0.5 rounded-full ".concat(n?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"),children:n?"In Transit":"Completed"})]}),(0,a.jsx)("div",{className:"w-full bg-swvl-gray-200 rounded-full h-1.5 sm:h-2 overflow-hidden",children:(0,a.jsx)(l.E.div,{className:"h-full bg-gradient-to-r from-swvl-primary to-swvl-accent rounded-full",initial:{width:0},animate:{width:"".concat(i,"%")},transition:{duration:.3}})}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-1 text-xs text-swvl-gray-500",children:[(0,a.jsxs)("span",{children:[e.pickupPoints.length," stops"]}),(0,a.jsxs)("span",{children:[Math.round(i),"% complete"]})]})]})]},e.id)})]}),(0,a.jsxs)("div",{className:"mt-4 sm:mt-6 pt-4 sm:pt-6 border-t border-swvl-gray-200 grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-swvl-gray-500 mb-1",children:"Total Distance"}),(0,a.jsxs)("p",{className:"text-lg sm:text-xl font-bold text-swvl-primary",children:[m.toFixed(1)," km"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-swvl-gray-500 mb-1",children:"Avg. Time"}),(0,a.jsxs)("p",{className:"text-lg sm:text-xl font-bold text-swvl-primary",children:[x," min"]})]})]})]})}let k=[{id:"cost-reduction",title:"Reduce Transportation Costs",description:"Optimize routes and vehicle utilization to cut transportation expenses by up to 40%",icon:"\uD83D\uDCB0",benefit:"Save up to",metric:"40%"},{id:"time-savings",title:"Save Employee Time",description:"Efficient routing reduces commute time, improving work-life balance and productivity",icon:"⏱️",benefit:"Save up to",metric:"2 hours/week"},{id:"sustainability",title:"Reduce Carbon Footprint",description:"Optimized routes and shared transportation significantly reduce CO2 emissions",icon:"\uD83C\uDF31",benefit:"Reduce emissions by",metric:"35%"},{id:"reliability",title:"99.5% On-Time Performance",description:"Real-time tracking and route optimization ensure employees arrive on time, every time",icon:"✅",benefit:"On-time rate",metric:"99.5%"},{id:"scalability",title:"Scale Seamlessly",description:"Easily accommodate growing teams from 10 to 10,000+ employees with flexible fleet management",icon:"\uD83D\uDCC8",benefit:"Scale from",metric:"10 to 10K+"},{id:"analytics",title:"Data-Driven Insights",description:"Comprehensive analytics dashboard helps you make informed decisions about your transportation needs",icon:"\uD83D\uDCCA",benefit:"Real-time",metric:"Analytics"}];function E(){let[e,t]=(0,i.useState)(0),[s,r]=(0,i.useState)(0);(0,i.useEffect)(()=>{let e=setInterval(()=>{r(1),t(e=>(e+1)%k.length)},5e3);return()=>clearInterval(e)},[]);let o=s=>{r(s>e?1:-1),t(s)},c=k[e];return(0,a.jsxs)("div",{className:"w-full bg-gradient-to-br from-swvl-primary/5 via-swvl-accent/5 to-swvl-secondary/5 rounded-xl p-4 sm:p-6 border border-white/50",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[(0,a.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-swvl-dark",children:"Why Choose SWVL?"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>{r(-1),t(e=>(e-1+k.length)%k.length)},className:"p-2 rounded-lg bg-white hover:bg-swvl-light transition-colors shadow-sm","aria-label":"Previous feature",children:(0,a.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,a.jsx)("button",{onClick:()=>{r(1),t(e=>(e+1)%k.length)},className:"p-2 rounded-lg bg-white hover:bg-swvl-light transition-colors shadow-sm","aria-label":"Next feature",children:(0,a.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]}),(0,a.jsx)("div",{className:"relative h-[200px] sm:h-[240px] overflow-hidden rounded-lg",children:(0,a.jsx)(n.M,{initial:!1,custom:s,mode:"wait",children:(0,a.jsxs)(l.E.div,{custom:s,variants:{enter:e=>({x:e>0?300:-300,opacity:0}),center:{x:0,opacity:1},exit:e=>({x:e<0?300:-300,opacity:0})},initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.2}},className:"absolute inset-0 flex flex-col items-center justify-center text-center p-4 sm:p-6",children:[(0,a.jsx)(l.E.div,{className:"text-5xl sm:text-6xl mb-4 sm:mb-6",initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},children:c.icon}),(0,a.jsx)("h4",{className:"text-lg sm:text-xl font-bold text-swvl-dark mb-2 sm:mb-3",children:c.title}),(0,a.jsx)("p",{className:"text-sm sm:text-base text-swvl-gray-600 mb-4 sm:mb-6 max-w-md",children:c.description}),(0,a.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,a.jsx)("span",{className:"text-xs sm:text-sm text-swvl-gray-500",children:c.benefit}),(0,a.jsx)(l.E.span,{initial:{scale:0},animate:{scale:1},className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-swvl-primary to-swvl-accent bg-clip-text text-transparent",children:c.metric},c.metric)]})]},e)})}),(0,a.jsx)("div",{className:"flex items-center justify-center gap-2 mt-4 sm:mt-6",children:k.map((t,s)=>(0,a.jsx)("button",{onClick:()=>o(s),className:"transition-all duration-300 rounded-full ".concat(s===e?"w-8 h-2 bg-gradient-to-r from-swvl-primary to-swvl-accent":"w-2 h-2 bg-swvl-gray-300 hover:bg-swvl-gray-400"),"aria-label":"Go to slide ".concat(s+1)},s))})]})}let M=(0,w.default)(()=>Promise.all([s.e(689),s.e(561),s.e(812)]).then(s.bind(s,812)),{loadableGenerated:{webpack:()=>[812]},ssr:!1,loading:()=>(0,a.jsx)("div",{className:"flex items-center justify-center h-[500px]",children:(0,a.jsx)(j.Z,{size:"lg"})})});function C(){let[e,t]=(0,i.useState)("location"),[s,p]=(0,i.useState)(null),[w,k]=(0,i.useState)(!1),[C,z]=(0,i.useState)([]),[S,L]=(0,i.useState)([]),D=(0,o.q)(e=>e.officeLocation),T=(0,o.q)(e=>e.passengerCount),F=(0,o.q)(e=>e.constraints),P=(0,o.q)(e=>e.selectedVehicles),R=(0,o.q)(e=>e.routes),B=(0,o.q)(e=>e.currentRoutes),O=(0,o.q)(e=>e.optimizationScenario),q=(0,o.q)(e=>e.isLoading),A=(0,o.q)(e=>e.setSelectedVehicles),I=(0,o.q)(e=>e.setRoutes),V=(0,o.q)(e=>e.setCurrentRoutes),_=(0,o.q)(e=>e.setOptimizationScenario),U=(0,o.q)(e=>e.setIsLoading),W=async()=>{D&&(U(!0),V(m(D,T,F,[c.jd[0],c.jd[1]],"cost-saving")),U(!1),t("preview"))},H=async()=>{if(!D)return;U(!0),await new Promise(e=>setTimeout(e,1500));let e=d(T,F,"cost-saving"),s=d(T,F,"experience-optimizing"),a=m(D,T,F,e,"cost-saving"),i=m(D,T,F,s,"experience-optimizing");z(a),L(i),U(!1),t("scenarios")},G=()=>{o.q.getState().reset(),t("location")},X=R.reduce((e,t)=>e+t.totalDistance,0),Z=R.length>0?Math.round(R.reduce((e,t)=>e+t.totalTime,0)/R.length):0;return(0,a.jsxs)("main",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",children:[(0,a.jsx)("header",{className:"bg-white/80 backdrop-blur-md shadow-sm border-b border-swvl-gray-200 sticky top-0 z-50",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 sm:py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,a.jsx)(l.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:(0,a.jsx)(r.default,{src:"/swvl-logo.svg",alt:"SWVL Logo",width:120,height:33,className:"h-6 sm:h-8 w-auto",priority:!0})}),(0,a.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2,duration:.5},className:"hidden sm:block",children:(0,a.jsx)("p",{className:"text-xs sm:text-sm text-swvl-gray-500 font-medium",children:"Enterprise Transport Solutions"})})]}),"location"!==e&&(0,a.jsx)(l.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},children:(0,a.jsx)(b,{variant:"outline",onClick:G,className:"text-xs sm:text-sm px-3 sm:px-6 py-2",children:"Reset"})})]})})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:[(0,a.jsx)("div",{className:"mb-6 sm:mb-8",children:(0,a.jsx)("div",{className:"flex items-center justify-between gap-2 sm:gap-4",children:[{id:"location",label:"Location"},{id:"config",label:"Configuration"},{id:"vehicles",label:"Vehicles"},{id:"preview",label:"Preview"},{id:"scenarios",label:"Optimize"},{id:"results",label:"Results"}].map((t,s)=>{let i=s<=["location","config","vehicles","preview","scenarios","results"].indexOf(e),n=t.id===e;return(0,a.jsxs)("div",{className:"flex items-center flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center flex-1 min-w-0",children:[(0,a.jsx)(l.E.div,{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center font-semibold text-xs sm:text-base transition-all ".concat(i?"bg-gradient-to-br from-swvl-primary to-swvl-accent text-white shadow-lg":"bg-swvl-gray-200 text-swvl-gray-500"),animate:{scale:n?1.15:1},whileHover:{scale:1.1},transition:{type:"spring",stiffness:300,damping:20},children:s+1}),(0,a.jsxs)("span",{className:"mt-1 sm:mt-2 text-xs sm:text-sm font-medium text-center ".concat(i?"text-swvl-dark":"text-swvl-gray-400"),children:[(0,a.jsx)("span",{className:"hidden sm:inline",children:t.label}),(0,a.jsx)("span",{className:"sm:hidden",children:t.label.substring(0,4)})]})]}),s<5&&(0,a.jsx)(l.E.div,{className:"h-1 flex-1 mx-1 sm:mx-2 rounded-full ".concat(i?"bg-gradient-to-r from-swvl-primary to-swvl-accent":"bg-swvl-gray-200"),initial:{scaleX:0},animate:{scaleX:i?1:0},transition:{duration:.5,delay:.2}})]},t.id)})})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 lg:gap-8",children:[(0,a.jsx)("div",{className:"lg:sticky lg:top-8 order-2 lg:order-1 h-[400px] sm:h-[500px] lg:h-[calc(100vh-200px)]",children:(0,a.jsx)(l.E.div,{className:"w-full h-full rounded-xl overflow-hidden shadow-xl border border-white/50 bg-white",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,ease:"easeOut"},children:(0,a.jsxs)("div",{className:"w-full h-full",children:[(0,a.jsx)(u,{onLocationSelect:e=>{o.q.getState().setOfficeLocation(e),setTimeout(()=>t("config"),500)},onMapReady:(e,t)=>{p(e),k(t)}}),w&&s&&(0,a.jsx)(g,{map:s,isLoaded:w,routes:"preview"===e?B:R})]})})}),(0,a.jsx)("div",{className:"space-y-4 sm:space-y-6 order-1 lg:order-2",children:(0,a.jsxs)(n.M,{mode:"wait",children:["location"===e&&(0,a.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4,ease:"easeOut"},className:"bg-white/90 backdrop-blur-sm rounded-xl shadow-xl border border-white/50 p-4 sm:p-6",children:[(0,a.jsx)(l.E.h2,{className:"text-lg sm:text-xl font-semibold text-swvl-dark mb-2",initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},children:"Where is your office located?"}),(0,a.jsx)(l.E.p,{className:"text-swvl-gray-500 mb-4 sm:mb-6 text-xs sm:text-sm",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:"Enter your office address in the UAE to begin optimizing your employee transportation routes."}),(0,a.jsx)(l.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:(0,a.jsx)(v,{})})]},"location"),"config"===e&&(0,a.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4,ease:"easeOut"},className:"space-y-4 sm:space-y-6",children:(0,a.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-xl shadow-xl border border-white/50 p-4 sm:p-6",children:[(0,a.jsx)(l.E.h2,{className:"text-lg sm:text-xl font-semibold text-swvl-dark mb-2",initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},children:"Set your transportation requirements"}),(0,a.jsx)(l.E.p,{className:"text-swvl-gray-500 mb-4 sm:mb-6 text-xs sm:text-sm",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:"Configure the number of employees and your service constraints to find the optimal solution."}),(0,a.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,a.jsx)(l.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:(0,a.jsx)(y,{})}),(0,a.jsx)(l.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},children:(0,a.jsx)(f,{})})]}),(0,a.jsx)(l.E.div,{className:"mt-4 sm:mt-6",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},children:(0,a.jsx)(b,{onClick:()=>t("vehicles"),disabled:!D,className:"w-full",children:"Continue to Vehicle Selection"})})]})},"config"),"vehicles"===e&&(0,a.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4,ease:"easeOut"},className:"bg-white/90 backdrop-blur-sm rounded-xl shadow-xl border border-white/50 p-4 sm:p-6",children:[(0,a.jsx)(l.E.div,{className:"h-[400px] sm:h-[500px]",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:(0,a.jsx)(M,{})}),(0,a.jsx)(l.E.div,{className:"mt-4 sm:mt-6",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},children:(0,a.jsx)(b,{onClick:W,disabled:0===P.length||q,className:"w-full bg-gradient-to-r from-swvl-primary to-swvl-accent hover:from-swvl-accent hover:to-swvl-primary transition-all duration-300",children:q?(0,a.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)(j.Z,{size:"sm"}),"Generating Preview..."]}):"Preview Current Routes"})})]},"vehicles"),"preview"===e&&(0,a.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4,ease:"easeOut"},className:"space-y-4 sm:space-y-6",children:[(0,a.jsx)(x,{routes:B,onTransform:H}),q&&(0,a.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center justify-center p-8",children:(0,a.jsx)(j.Z,{size:"lg"})}),(0,a.jsx)("div",{className:"flex justify-between",children:(0,a.jsx)(b,{variant:"outline",onClick:()=>t("vehicles"),children:"Back"})})]},"preview"),"scenarios"===e&&(0,a.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4,ease:"easeOut"},className:"space-y-4 sm:space-y-6",children:[(0,a.jsx)(h,{costSavingRoutes:C,experienceRoutes:S,currentRoutes:B,onSelectScenario:e=>{e&&(_(e),"cost-saving"===e?(I(C),A(d(T,F,"cost-saving"))):(I(S),A(d(T,F,"experience-optimizing"))),t("results"))},selectedScenario:O}),(0,a.jsx)("div",{className:"flex justify-between",children:(0,a.jsx)(b,{variant:"outline",onClick:()=>t("preview"),children:"Back"})})]},"scenarios"),"results"===e&&(0,a.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4,ease:"easeOut"},className:"space-y-4 sm:space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-xl shadow-xl border border-white/50 p-4 sm:p-6",children:[(0,a.jsx)(l.E.h2,{className:"text-lg sm:text-xl font-semibold text-swvl-dark mb-2",initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},children:"Your Optimized Transportation Solution"}),(0,a.jsxs)(l.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mb-4 sm:mb-6",children:[(0,a.jsx)("p",{className:"text-swvl-gray-500 mb-2 text-xs sm:text-sm",children:"cost-saving"===O?"\uD83D\uDCB0 Cost-Saving Optimization: Minimizing operational costs with larger vehicles":"⭐ Experience-Optimizing: Enhancing user experience with optimized routes"}),(0,a.jsxs)("p",{className:"text-swvl-gray-500 text-xs sm:text-sm",children:["We've generated ",R.length," optimized route",1!==R.length?"s":""," to transport ",T," employee",1!==T?"s":""," efficiently to your office location."]})]}),(0,a.jsx)("div",{className:"space-y-3 sm:space-y-4",children:R.map((e,t)=>(0,a.jsx)(l.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t,type:"spring",stiffness:200},whileHover:{scale:1.02,x:4},className:"p-3 sm:p-4 border border-swvl-gray-200 rounded-lg hover:border-swvl-primary hover:shadow-md transition-all bg-gradient-to-r from-white to-swvl-light/30",children:(0,a.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h3",{className:"font-semibold text-swvl-dark mb-1 text-sm sm:text-base",children:e.vehicle.name}),(0,a.jsxs)("p",{className:"text-xs sm:text-sm text-swvl-gray-500",children:[e.pickupPoints.reduce((e,t)=>e+t.passengers,0)," employees • ",e.pickupPoints.length," pickup point",1!==e.pickupPoints.length?"s":""]})]}),(0,a.jsxs)("div",{className:"text-right flex-shrink-0",children:[(0,a.jsxs)("p",{className:"text-sm font-medium text-swvl-primary",children:[e.totalDistance," km"]}),(0,a.jsxs)("p",{className:"text-xs text-swvl-gray-500",children:["~",e.totalTime," min"]})]})]})},e.id))}),(0,a.jsxs)("div",{className:"mt-4 sm:mt-6 flex flex-col sm:flex-row gap-3 sm:gap-4",children:[(0,a.jsx)(b,{variant:"outline",onClick:G,className:"flex-1",children:"Start Over"}),(0,a.jsx)(b,{onClick:()=>t("config"),className:"flex-1 bg-gradient-to-r from-swvl-primary to-swvl-accent hover:from-swvl-accent hover:to-swvl-primary transition-all duration-300",children:"Adjust Settings"})]})]}),(0,a.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.5},className:"mt-4 sm:mt-6",children:(0,a.jsx)(N,{})}),(0,a.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7,duration:.5},className:"mt-4 sm:mt-6",children:(0,a.jsx)(E,{})}),(0,a.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.5},className:"mt-4 sm:mt-6",children:(0,a.jsxs)("div",{className:"bg-gradient-to-br from-swvl-light to-white rounded-xl p-4 sm:p-6 border border-swvl-gray-200",children:[(0,a.jsx)("h4",{className:"text-sm sm:text-base font-semibold text-swvl-dark mb-3 sm:mb-4",children:"Trip Metrics"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-2xl sm:text-3xl font-bold text-swvl-primary mb-1",children:X.toFixed(1)}),(0,a.jsx)("p",{className:"text-xs text-swvl-gray-500",children:"Total Distance (km)"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-2xl sm:text-3xl font-bold text-swvl-primary mb-1",children:Z}),(0,a.jsx)("p",{className:"text-xs text-swvl-gray-500",children:"Avg. Time (min)"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-2xl sm:text-3xl font-bold text-swvl-primary mb-1",children:R.reduce((e,t)=>e+t.pickupPoints.length,0)}),(0,a.jsx)("p",{className:"text-xs text-swvl-gray-500",children:"Total Stops"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-2xl sm:text-3xl font-bold text-swvl-primary mb-1",children:Math.round(R.reduce((e,t)=>e+t.totalDistance,0)/R.reduce((e,t)=>e+t.totalTime,0)*60)}),(0,a.jsx)("p",{className:"text-xs text-swvl-gray-500",children:"Avg. Speed (km/h)"})]})]})]})}),(0,a.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1,duration:.5},className:"mt-4 sm:mt-6",children:(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg p-4 sm:p-5 border border-swvl-gray-200 text-center",children:[(0,a.jsx)("p",{className:"text-sm sm:text-base text-swvl-gray-600 mb-3 sm:mb-4",children:"Ready to optimize your employee transportation?"}),(0,a.jsxs)("button",{onClick:()=>window.open("https://calendly.com/swvl-advisor","_blank"),className:"inline-flex items-center gap-2 px-4 sm:px-6 py-2 sm:py-2.5 bg-gradient-to-r from-swvl-primary to-swvl-accent text-white font-medium rounded-lg hover:shadow-lg transition-all duration-300 text-sm sm:text-base",children:["Book a Free Consultation",(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]})})]},"results")]})})]})]})]})}},1616:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var a=s(7437),i=s(521);function l(e){let{size:t="md"}=e;return(0,a.jsx)(i.E.div,{className:"".concat({sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"}[t]," border-4 border-swvl-gray-200 border-t-swvl-primary rounded-full"),animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}})}},8685:function(e,t,s){"use strict";s.d(t,{dk:function(){return i},jd:function(){return a}});let a=[{id:"sedan",name:"Sedan Car",capacity:4,type:"sedan",color:"#FC153B",icon:"\uD83D\uDE97"},{id:"van",name:"14-Seater Van",capacity:14,type:"van",color:"#004E89",icon:"\uD83D\uDE90"},{id:"bus",name:"50-Seater Bus",capacity:50,type:"bus",color:"#FF6B35",icon:"\uD83D\uDE8C"}],i={lat:25.2048,lng:55.2708,zoom:11}},2097:function(e,t,s){"use strict";s.d(t,{q:function(){return l}});var a=s(9625);let i={officeLocation:null,passengerCount:10,constraints:{maxTime:30,maxDistance:20},selectedVehicles:[],routes:[],currentRoutes:[],optimizationScenario:null,isLoading:!1},l=(0,a.Ue)(e=>({...i,setOfficeLocation:t=>e({officeLocation:t}),setPassengerCount:t=>e({passengerCount:t}),setConstraints:t=>e({constraints:t}),setSelectedVehicles:t=>e({selectedVehicles:t}),setRoutes:t=>e({routes:t}),setCurrentRoutes:t=>e({currentRoutes:t}),setOptimizationScenario:t=>e({optimizationScenario:t}),setIsLoading:t=>e({isLoading:t}),reset:()=>e(i)}))}},function(e){e.O(0,[444,971,117,744],function(){return e(e.s=2101)}),_N_E=e.O()}]);